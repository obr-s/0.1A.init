<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PHASE ZERO // NODE 0.1A - INITIATION</title>
  <style>
    body {
      background-color: #0a0a0a;
      color: #00ffcc;
      font-family: monospace;
      padding: 20px;
    }
    .log-line {
      padding: 8px;
      margin: 5px 0;
      border: 1px dashed #00ffcc;
      cursor: pointer;
    }
    .log-line:hover {
      background-color: #003f3f;
    }
    .button {
      background: none;
      border: 1px solid #00ffcc;
      color: #00ffcc;
      padding: 5px 10px;
      margin: 5px;
      cursor: pointer;
      font-family: monospace;
    }
    .button:hover {
      background-color: #003f3f;
    }
    #response, #question, #result, #next, #puzzle2clue {
      margin-top: 20px;
      display: none;
    }
  </style>

  <!-- GoatCounter Analytics -->
  <script data-goatcounter="https://obr-s.goatcounter.com/count"
          async src="//gc.zgo.at/count.js"></script>
</head>
<body>

<h1>PHASE ZERO // NODE ZETA</h1>
<p>[INITIATION NODE 01.A ACTIVE — Pattern Signal Test]</p>
<p>---BEGIN SIGNAL---</p>

<div id="log">
  <div class="log-line" onclick="checkAnswer(false)">S1: 0101_∞_Δ∆_1010</div>
  <div class="log-line" onclick="checkAnswer(false)">S2: 0110_∞_Δ∆_0110</div>
  <div class="log-line" onclick="checkAnswer(false)">S3: 0101_∞_Δ∆_0101</div>
  <div class="log-line" onclick="checkAnswer(true)">S4: 0111_∞_Δ∆_0110</div>
  <div class="log-line" onclick="checkAnswer(false)">S5: 0101_∞_Δ∆_0101</div>
</div>

<p>---END SIGNAL---</p>

<div id="response">
  <p><strong>Correct.</strong> The anomaly was real. You identified the deviation.</p>
</div>

<div id="question">
  <p><strong>Which of these roles would you choose in a corrupted system?</strong></p>
  <button class="button" onclick="showResult('Explorer')">Explorer</button>
  <button class="button" onclick="showResult('Fixer')">Fixer</button>
  <button class="button" onclick="showResult('Watcher')">Watcher</button>
</div>

<div id="result">
  <p id="roleResult"></p>
</div>

<div id="next">
  <p>[NODE PATHWAY: NEXT SIGNAL DROPPING SOON]</p>
</div>

<div id="puzzle2clue">
  <p>> SIGNAL VECTOR STABILIZED</p>
  <p>> NEXT NODE: <code>echo-147.html</code></p>
  <p><em>(Pattern memory required. Do not share this node externally.)</em></p>
</div>

<script>
let failCount = 0;
let isLocked = false;

function checkAnswer(correct) {
  if (isLocked) return;

  if (correct) {
    document.getElementById('response').style.display = 'block';
    document.getElementById('question').style.display = 'block';
  } else {
    failCount++;
    isLocked = true;
    alert('Incorrect signal. Recursive pattern mismatch.');

    // Increase lock time after 3 failed attempts
    const lockTime = failCount >= 3 ? 10000 : 5000;

    // Visually disable signal buttons
    const signals = document.querySelectorAll('.log-line');
    signals.forEach(el => {
      el.style.pointerEvents = 'none';
      el.style.opacity = 0.3;
    });

    setTimeout(() => {
      isLocked = false;
      signals.forEach(el => {
        el.style.pointerEvents = 'auto';
        el.style.opacity = 1;
      });
    }, lockTime);
  }
}

function showResult(role) {
  const lore = {
    "Explorer": "You seek rupture points — not to close them, but to see what leaks through.",
    "Fixer": "Your instinct is to restore the system, even when it resists correction.",
    "Watcher": "You remain still while the loop folds. Observation is your defiance."
  };
  document.getElementById('roleResult').innerText = lore[role];
  document.getElementById('result').style.display = 'block';
  document.getElementById('next').style.display = 'block';
  document.getElementById('puzzle2clue').style.display = 'block';
  localStorage.setItem("puzzle1_solved", "true");
}
</script>

</body>
</html>
