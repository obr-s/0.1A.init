
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PHASE ZERO // NODE 0.1.2A - RECURSION VECTOR</title>
  <style>
    body {
      background-color: #0a0a0a;
      color: #00ffcc;
      font-family: 'Courier New', monospace;
      padding: 20px;
    }
    .terminal-line {
      margin: 5px 0;
    }
    #inputArea {
      margin-top: 20px;
    }
    #inputField {
      background-color: #000;
      color: #00ffcc;
      border: 1px solid #00ffcc;
      font-family: monospace;
      padding: 5px;
      width: 80%;
    }
    #executeButton {
      background: none;
      border: 1px solid #00ffcc;
      color: #00ffcc;
      padding: 5px 10px;
      margin-left: 10px;
      cursor: pointer;
    }
    #executeButton:hover {
      background-color: #003f3f;
    }
    #output, #tallyFormBlock {
      margin-top: 20px;
      display: none;
    }
    .disabled {
      opacity: 0.4;
      pointer-events: none;
    }
  </style>
  <script data-goatcounter="https://obr-s.goatcounter.com/count"
          async src="//gc.zgo.at/count.js"></script>
</head>
<body>

<h1>PHASE ZERO // NODE DELTA</h1>
<p>> SYSTEM NODE STATUS: RECURSION PATTERN CHALLENGE</p>
<p>> VECTOR ALIGNMENT REQUIRED</p>

<div class="terminal-line">S1: [RE:loop:run:vector-△]</div>
<div class="terminal-line">S2: [RE:∞zero:break:shell]</div>
<div class="terminal-line">S3: [RE:loop:loop:break]</div>
<div class="terminal-line">S4: [RE:loop:run:vector-β]</div>
<div class="terminal-line">S5: [RE:run:loop:signal-Δ]</div>

<div id="inputArea">
  <label>> NEXT VECTOR:</label>
  <input type="text" id="inputField" autocomplete="off" placeholder="e.g., RE:loop:run:vector-γ">
  <button id="executeButton">Execute</button>
</div>

<div id="output"></div>

<div id="tallyFormBlock">
  <p>> SIGNAL MATCH CONFIRMED</p>
  <p>> FINAL LOOP QUERY:</p>
  <p><em>(Answer the following to maintain recursion alignment.)</em></p>
  <iframe src="https://tally.so/r/mDyXj5"
          loading="lazy" width="100%" height="300" frameborder="0" marginheight="0" marginwidth="0" title="PMF Question Form"></iframe>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  let isLocked = false;
  let failCount = 0;

  const acceptedAnswers = [
    "re:loop:run:vector-γ",
    "re:loop:run:vector-g",
    "re:loop:run:vector-gamma"
  ];

  function submitAnswer() {
    if (isLocked) return;

    const inputElem = document.getElementById("inputField");
    const buttonElem = document.getElementById("executeButton");
    const input = inputElem.value.trim().toLowerCase().replace(/\s+/g, "").normalize();
    const output = document.getElementById("output");

    if (acceptedAnswers.includes(input)) {
      output.style.display = "block";
      output.innerHTML = "<p>> SIGNAL MATCHED</p><p>> LORE INTEGRITY INTACT</p>";

      if (input === "re:loop:run:vector-γ") {
        output.innerHTML += "<p>> BONUS: VECTOR MATCHED WITH UNCOMMON CHARACTER — COGNITIVE SHARPENING DETECTED</p>";
      }

      document.getElementById("tallyFormBlock").style.display = "block";
      localStorage.setItem("puzzle2_solved", "true");
    } else {
      failCount++;
      isLocked = true;

      let lockTime = failCount === 1 ? 3000 :
                     failCount === 2 ? 5000 :
                     failCount === 3 ? 7000 : 10000;

      output.style.display = "block";
      output.innerHTML = `<p>> PATTERN DISSONANCE DETECTED</p>
                          <p>> LOCKOUT INITIATED (${lockTime / 1000}s)</p>
                          <p>> HINT: UNCOMMON CHARACTER PRESENT — COPY/PASTE MAY BE REQUIRED</p>`;

      inputElem.disabled = true;
      buttonElem.disabled = true;
      inputElem.classList.add("disabled");
      buttonElem.classList.add("disabled");

      setTimeout(() => {
        isLocked = false;
        inputElem.disabled = false;
        buttonElem.disabled = false;
        inputElem.classList.remove("disabled");
        buttonElem.classList.remove("disabled");
      }, lockTime);
    }
  }

  document.getElementById("executeButton").addEventListener("click", submitAnswer);
  document.getElementById("inputField").addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      e.preventDefault();
      submitAnswer();
    }
  });
});
</script>

</body>
</html>
